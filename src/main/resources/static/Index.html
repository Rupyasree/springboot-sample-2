<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>SkyCart Login</title>
	<link rel="stylesheet" href="style.css">
</head>
<style>body {
	margin: 0;
	height: 100vh;
	background-image: url("Screenshot 2025-09-16 190728.png");
	background-size: cover;
	display: flex;
	justify-content: center;
	align-items: center;
	font-family: 'Segoe UI', sans-serif;
}

.login-box {
	background: rgba(255, 255, 255, 0.07);
	padding: 40px;
	border-radius: 15px;
	box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
	width: 400px;
	/* Changed from 200% to fixed width */
	color: #fff;
	backdrop-filter: blur(10px);
	text-align: center;
}

.login-box h2 {
	margin-bottom: 30px;
	font-size: 24px;
}

.input-box {
	position: relative;
	margin-bottom: 20px;
}

.input-box input {
	width: 100%;
	padding: 12px 40px 12px 15px;
	border: none;
	border-radius: 40px;
	outline: none;
	font-size: 14px;
}

.input-box .icon {
	position: absolute;
	right: 15px;
	top: 12px;
	color: #888;
}

.remember {
	margin-bottom: 20px;
	font-size: 14px;
	text-align: left;
}

.btn {
	width: 100%;
	padding: 12px;
	background-color: hotpink;
	color: white;
	border: none;
	border-radius: 40px;
	font-size: 16px;
	cursor: pointer;
	font-weight: bold;
	transition: all 0.3s ease;
}

.btn:hover {
	background-color: #ff1493;
	transform: scale(1.03);
}


.background {
	width: 500%;
	height: 500%;
	background-size: cover;
	/* Background with animated pink gradient */
	body {
		margin: 0;
		height: 100vh;
		background-image: url("Screenshot 2025-09-16 190728.png");
		background-size: cover;
		display: flex;
		justify-content: center;
		align-items: center;
		font-family: 'Segoe UI', sans-serif;
	}

	.login-box {
		background: rgba(255, 255, 255, 0.07);
		padding: 40px;
		border-radius: 15px;
		box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
		width: 400px;
		/* Changed from 200% to fixed width */
		color: #fff;
		backdrop-filter: blur(10px);
		text-align: center;
	}

	.login-box h2 {
		margin-bottom: 30px;
		font-size: 24px;
	}

	.input-box {
		position: relative;
		margin-bottom: 20px;
	}

	.input-box input {
		width: 100%;
		padding: 12px 40px 12px 15px;
		border: none;
		border-radius: 40px;
		outline: none;
		font-size: 14px;
	}

	.input-box .icon {
		position: absolute;
		right: 15px;
		top: 12px;
		color: #888;
	}

	.remember {
		margin-bottom: 20px;
		font-size: 14px;
		text-align: left;
	}

	.btn {
		width: 100%;
		padding: 12px;
		background-color: hotpink;
		color: white;
		border: none;
		border-radius: 40px;
		font-size: 16px;
		cursor: pointer;
		font-weight: bold;
		transition: all 0.3s ease;
	}

	.btn:hover {
		background-color: #ff1493;
		transform: scale(1.03);
	}


	.background {
		width: 500%;
		height: 500%;
		background-size: cover;
		background: linear-gradient(135deg, pink, lightblue);
		background-image: url("");
		margin: 0%;
		overflow: hidden;
		top: 0;
		left: 0;
		position: absolute;
		max-width: 100%;
		overflow-x: hidden;

	}

	.container-body {

		height: 100vh;
		display: flex;
		justify-content: center;
		align-items: center;
		margin: 0;
		font-family: Arial, sans-serif;
	}

	.container {
		background: rgba(255, 255, 255, 0.05);
		padding: 40px;
		border-radius: 15px;
		box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
		width: 350px;
		color: #fff;
		backdrop-filter: blur(10px);
	}

	.imgsrc {
		display: block;
		position: absolute;
		top: 150px;
		left: 10px;
		height: 210px;
		border-radius: 100px;
		margin-left: 34%;

		opacity: 0.3;
	}

	nav a {
		padding: 50px;
		margin-bottom: 10%;
		height: 70px;
		text-decoration: none;
	}

	.background logo {
		font-size: 16px;
		font-style: italic;
		width: 100%;
		height: 60px;
		border-color: rgba(255, 255, 255, 0.5);
		box-shadow: rgba(255, 255, 255, 0.5);
	}
</style>
<body>
	<div class="login-container">
		<h2><i>Welcome to Sky Cart</i></h2>
		<form id="signin">
			<div class="login-box">
				<h2>LOG IN</h2>

				<div class="input-box">
					<input type="text" id="username" name="username" required placeholder="Username">
				</div>

				<div class="input-box">
					<input type="email" id="email" name="email" required placeholder="Email address">
				</div>

				<div class="input-box">
					<input type="password" id="password" name="password" required placeholder="Password">
				</div>

				<div class="remember">
					<label><input type="checkbox" name="remember"> Keep me logged in</label>
				</div>

				<button type="submit" class="btn">LOG IN</button>


				<p><a href="signup.html">Sign Up</a></p>
				<p><a href="password.html">Forgot Password?</a></p>

				<p id="message" style="margin-top: 15px; font-weight: bold;"></p>
			</div>
		</form>
	</div>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const form = document.getElementById("signin");
			const message = document.getElementById("message");

			form.addEventListener("submit", function (e) {
				e.preventDefault();

				const username = document.getElementById("username").value.trim();
				const email = document.getElementById("email").value.trim();
				const password = document.getElementById("password").value.trim();

				if (!username || !email || !password) {
					message.innerText = "Please fill all fields!";
					message.style.color = "yellow";
					return;
				}

				console.log("Submitting form with values:", username, email, password);

				fetch("/api/register", {   // ðŸ”¹ use /api/register for signup
					method: "POST",
					headers: {
						"Content-Type": "application/json"
					},
					body: JSON.stringify({
						username: username,
						email: email,
						password: password
					})
				})
					.then(res => res.text())
					.then(data => {
						if (data.includes("User registered")) {
							message.innerText = "Registration successful!";
							message.style.color = "lightgreen";

							setTimeout(() => {
								window.location.href = "Homepage.html"; // redirect to login page
							}, 2000);
						} else {
							message.innerText = data;
							message.style.color = "red";
						}
					})
					.catch(err => {
						console.error(err);
						message.innerText = "An error occurred!";
						message.style.color = "red";
					});

			});
		});
	</script>
</body>

</html>